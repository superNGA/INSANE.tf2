#include "Line.h"


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
ILine_t::ILine_t()
{
    InitRelativeUV();
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
unsigned int ILine_t::GetVertexCount() const
{
    return 2;
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::SetBlur(const int iBlur)
{
    m_vertex[0].m_flBlurAmmount = static_cast<float>(iBlur);
    m_vertex[1].m_flBlurAmmount = static_cast<float>(iBlur);
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
const Vertex* ILine_t::GetVertexData() const
{
    return m_vertex;
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::SetColor(unsigned char r, unsigned char g, unsigned char b, unsigned char a)
{
    m_vertex[0].m_clr.Set(r, g, b, a);
    m_vertex[1].m_clr.Set(r, g, b, a);
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::InvertColors(bool bInvert)
{
    m_vertex[0].m_flInvertColors = 1.0f;
    m_vertex[1].m_flInvertColors = 1.0f;
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::SetPoints(const vec& vMin, const vec& vMax)
{
    m_vertex[0].m_vPos = vMin;
    m_vertex[1].m_vPos = vMax;
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::SetColor(RGBA_t clr, int vertex)
{
    vertex = std::clamp<int>(vertex, 0, GetVertexCount() - 1);
    m_vertex[vertex].m_clr.Set(clr.r, clr.g, clr.b, clr.a);
}


///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
void ILine_t::InitRelativeUV()
{
    m_vertex[0].m_vRelativeUV = vec(0.0f, 0.0f, 0.0f);
    m_vertex[1].m_vRelativeUV = vec(1.0f, 1.0f, 1.0f);
}
